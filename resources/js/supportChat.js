window.mitsui={},mitsui.pages={},mitsui.vars={};var emailDomain="@directory.findabilitysciences.com",emailDomain1="@findabilitysciences.com",LimitValue=0,startlimit=0,endlimit=10;function maxiLimit(e){var a=e.value;if(50<e.value.length){var t=a.substring(0,50);e.value=t}}function imeiLimit(e){var a=e.value;if(15<e.value.length){var t=a.substring(0,15);e.value=t}e.value.match(/[^0-9]/g)&&bootbox.alert({size:"small",message:"Incorrect IMEI number.",callback:function(){setTimeout(function(){$("#"+e.id).val(""),$("#"+e.id).focus()},150)}})}function serialNumberLimit(e){var a=e.value;if(15<e.value.length){var t=a.substring(0,15);e.value=t}}function phoneNumberLimit(e){var a=e.value;if(12<e.value.length){var t=a.substring(0,12);e.value=t}e.value.match(/[^0-9]/g)&&bootbox.alert({size:"small",message:"Incorrect phone number.",callback:function(){setTimeout(function(){$("#"+e.id).val(""),$("#"+e.id).focus()},150)}})}function pcidLimit(e){var a=e.value;if(15<e.value.length){var t=a.substring(0,15);e.value=t}}function profitCenterLimit(e){var a=e.value;if(15<e.value.length){var t=a.substring(0,15);e.value=t}}function isNumberKey(e){var a=e.which?e.which:e.keyCode;return!(a=31<a&&(a<48||57<a))}function changeActive(e){$("#loading_gif_div").hide(),$("#query").prop("disabled",!1),$("#askwatson").css("pointer-events","visible");var a=$.parseJSON(e),t=" <div class='chat-message chat-message-recipient'><img class='chat-image chat-image-default' src='resources/images/bot1.png' /> <div class='chat-message-wrapper'> <div class='chat-message-content'>"+a.responseList[0].responseText+"</div><div class='chat-details'><span class='chat-message-localization font-size-small'> "+dateFormat()+"</span></div>";$("#Solrbringmore").html(t),$("body").data("conversationId",a.responseList[0].conversationId)}function feedbacksubmit(){var e=$("input[name='rating']:checked").val(),s=$("#fdbackform").val();if(""==e||null==e)return bootbox.alert("Please provide the rating.").find(".modal-content").css({"font-weight":"bold","font-size":"1.3em","margin-top":"25%","font-family":'"Open Sans", "lt_helvetica", sans-serif'}),void $(".modal-footer").css("border","0px");if(""!=s&&250<s.length)return bootbox.alert("Feedback maximum character limit is 250.").find(".modal-content").css({"font-weight":"bold","font-size":"1.3em","margin-top":"25%","font-family":'"Open Sans", "lt_helvetica", sans-serif'}),void $(".modal-footer").css("border","0px");var n="",o="",l="",r="",c="";1==e?n='checked="checked"':2==e?o='checked="checked"':3==e?l='checked="checked"':4==e?r='checked="checked"':5==e&&(c='checked="checked"'),$(".feedbckhide").addClass("animated fadeOutLeft"),$(".feedbckhide").remove(),$.ajax({url:"api/v1/addFeedbackData",method:"POST",data:{ratingVal:e,feedbackVal:s}}).done(function(e){var i=e.split("%"),a='<p>Stars : </p><fieldset class="rating"><input type="radio" id="starusr5" name="ratinguser" value="5" '+c+' /><label class="full" for="star5" title="Awesome - 5 stars"></label><input type="radio" id="starusr4" name="ratinguser" value="4" '+r+'/><label class="full" for="star4" title="Pretty good - 4 stars"></label><input type="radio" id="starusr3" name="ratinguser" value="3" '+l+'/><label class="full" for="star3" title="It was okay - 3 stars"></label><input type="radio" id="starusr2" name="ratinguser" value="2" '+o+'/><label class="full" for="star2" title="Kinda bad - 2 stars"></label><input type="radio" id="starusr1" name="ratinguser" value="1" '+n+'/><label class="full" for="star1" title="Hated it - 1 star"></label></fieldset><p id="feedbckusrval" style="clear:both;">Feedback: '+s+"</p>",t="<div class='chat-message chat-message-sender'><img class='chat-image chat-image-default' src='resources/images/user.png' /><div class='chat-message-wrapper'><div class='chat-message-content'> "+a+"</div><div class='chat-details'><span class='chat-message-localisation font-size-small'>"+dateFormat()+"</span></div></div></div>";$("#Solrbringmore").append(t),$.ajax({url:"api/v1/saveChatViaAjax",method:"POST",data:{botReplyVal:a,type:"user",conversationId:$("body").data("conversationId"),date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z"),conversationChannel:"web"}}).done(function(e){var a="";a="<div><p>Thank you for the feedback, you can contact GUS for any further details.</p> <p>GUS Contact Info:</p>",a+="<p>1.Americas/EMEA Users:</p>",a+="<p>Telephone: <label id='gusinfoph1'>"+i[0]+"</label></p>",a+="<p>Extension: <label id='gusinfoext1'>"+i[1]+"</label></p>",a+="<p>E-mail: <a href='javascript:void(0);' onClick=\"javascript:window.open('mailto:"+i[2]+"','_blank','width=800,height=400,resizable=yes,scrollbars=yes,status=yes,top=100,left=100',true);\"><label id='gusinfomail1'>"+i[3]+"</label></a></p>",a+="<p>2.Japan users:</p>",a+="<p>Telephone: <label id='gusinfoph2'>"+i[4]+"</label></p>",a+="<p>Extension: <label id='gusinfoext2'>"+i[5]+"</label></p>";var t=" <div class='chat-message chat-message-recipient'><img class='chat-image chat-image-default' src='resources/images/bot1.png' /> <div class='chat-message-wrapper'> <div class='chat-message-content'>"+(a+="<p>E-mail: <a href='javascript:void(0);' onClick=\"javascript:window.open('mailto:"+i[6]+"','_blank','width=800,height=400,resizable=yes,scrollbars=yes,status=yes,top=100,left=100',true);\"><label id='gusinfomail2'>"+i[7]+"</label></a></p></div>")+"</div><div class='chat-details'><span class='chat-message-localization font-size-small'> "+dateFormat()+"</span></div>";$("#Solrbringmore").append(t),$.ajax({url:"api/v1/saveChatViaAjax",method:"POST",data:{botReplyVal:a,type:"bot",conversationId:$("body").data("conversationId"),date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z"),conversationChannel:"web"}}).done(function(e){}).fail(function(){}),initialConversationCall("hi")}).fail(function(){})}).fail(function(){bootbox.alert("Feedback data is not saved properly, try again.").find(".modal-content").css({"font-weight":"bold","font-size":"1.3em","margin-top":"25%","font-family":'"Open Sans", "lt_helvetica", sans-serif'}),$(".modal-footer").css("border","0px")})}function feedbackskip(){$("#askwatson").css("pointer-events","visible"),$("#query").prop("disabled",!1),$(".feedbckhide").addClass("animated fadeOutLeft"),$(".feedbckhide").remove(),$.ajax({url:"api/v1/saveChatViaAjax",method:"POST",data:{botReplyVal:"Not Now",type:"user",conversationId:$("body").data("conversationId"),date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z"),conversationChannel:"web"}}).done(function(e){var a="<div class='chat-message chat-message-sender'><img class='chat-image chat-image-default' src='resources/images/user.png' /><div class='chat-message-wrapper'><div class='chat-message-content'>Not Now</div><div class='chat-details'><span class='chat-message-localisation font-size-small'>"+dateFormat()+"</span></div></div></div>";$("#Solrbringmore").append(a);$("#Solrbringmore").append(" <div class='chat-message chat-message-recipient'><img class='chat-image chat-image-default' src='resources/images/bot1.png' /> <div class='chat-message-wrapper'> <div class='chat-message-content'><div class='innerMaintxt'><img id='loading_gif' src='resources/images/loading_dot.gif'></div></div><div class='innertimetxt'></div>"),$("#style-3").scrollTop($("#style-3")[0].scrollHeight),$.ajax({url:"api/v1/getGusViaAjax",method:"POST"}).done(function(e){$(".hideBtns").css("pointer-events","none"),$(".optionbtn").addClass("optionbtncolor").removeClass("optionbtn");var a="";if(""!=e){var t=e.split("%");a="<div><p>Thank you. You can contact GUS for any further details.</p> <p>GUS Contact Info:</p>",a+="<p>1.Americas/EMEA Users:</p>",a+="<p>Telephone: <label id='gusinfoph1'>"+t[0]+"</label></p>",a+="<p>Extension: <label id='gusinfoext1'>"+t[1]+"</label></p>",a+="<p>E-mail: <a href='javascript:void(0);' onClick=\"javascript:window.open('mailto:"+t[2]+"','_blank','width=800,height=400,resizable=yes,scrollbars=yes,status=yes,top=100,left=100',true);\"><label id='gusinfomail1'>"+t[3]+"</label></a></p>",a+="<p>2.Japan users:</p>",a+="<p>Telephone: <label id='gusinfoph2'>"+t[4]+"</label></p>",a+="<p>Extension: <label id='gusinfoext2'>"+t[5]+"</label></p>",a+="<p>E-mail: <a href='javascript:void(0);' onClick=\"javascript:window.open('mailto:"+t[6]+"','_blank','width=800,height=400,resizable=yes,scrollbars=yes,status=yes,top=100,left=100',true);\"><label id='gusinfomail2'>"+t[7]+"</label></a></p></div>"}$(".innerMaintxt").replaceWith(a),$(".innertimetxt").replaceWith("<div class='chat-details'><span class='chat-message-localization font-size-small'> "+dateFormat()+"</span></div>")}).fail(function(){$.ajax({url:"api/v1/saveChatViaAjax",method:"POST",data:{botReplyVal:"I am having trouble understanding you. Please rephrase your question.",type:"bot",conversationId:$("body").data("conversationId"),date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z"),conversationChannel:"web"}}).done(function(e){$(".innerMaintxt").replaceWith("I am having trouble understanding you. Please rephrase your question."),$(".innertimetxt").replaceWith("<div class='chat-details'><span class='chat-message-localization font-size-small'> "+dateFormat()+"</span></div>"),$("#style-3").scrollTop($("#style-3")[0].scrollHeight),$("#askwatson").css("pointer-events","visible"),$("#query").prop("disabled",!1),$("#gotoInit").css("pointer-events","visible"),$("#query").val(""),$("#query").focus()}).fail(function(){})})}).fail(function(){})}function botscopeSelect(a){var e=a.textContent,t="";t="Yes"==e?"Inscope":"Outscope";var i=$(".chat-message-sender:nth-last-of-type(2)").find("div:first-child")[0].textContent,s=$(".chat-message-sender:nth-last-of-type(4)").find("div:first-child")[0].textContent,n=$(".chat-message-sender:nth-last-of-type(6)").find("div:first-child")[0].textContent;$.ajax({url:"api/v1/addScopeLog",method:"POST",data:{q1:i,q2:s,q3:n,scope:t}}).done(function(e){botBtnSelect(a),sendApprovalMail(t)}).fail(function(){bootbox.alert("Something unexpected happen, Refresh and try again").find(".modal-content").css({"font-weight":"bold","font-size":"1.3em","margin-top":"25%","font-family":'"Open Sans", "lt_helvetica", sans-serif'}),$(".modal-footer").css("border","0px")})}function sendApprovalMail(e){$.ajax({url:"api/v1/getSendMailInfo.html",method:"POST",async:!0,data:{scope:e},processData:!0}).done(function(e){}).fail(function(){bootbox.alert("Something unexpected happened !!").find(".modal-content").css({"font-weight":"bold","font-size":"1.3em","margin-top":"25%","font-family":'"Open Sans", "lt_helvetica", sans-serif'}),$(".modal-footer").css("border","0px")})}function initialConversationCall(e){$("#askwatson").css("pointer-events","none"),$("#query").prop("disabled",!0);$("#Solrbringmore").append(" <div class='chat-message chat-message-recipient'><img class='chat-image chat-image-default' src='resources/images/bot1.png' /> <div class='chat-message-wrapper'> <div class='chat-message-content'><div class='innerMaintxt'><img id='loading_gif' src='resources/images/loading_dot.gif'></div></div><div class='innertimetxt'></div>"),$("#Solrbringmore").show(),$("#style-3").scrollTop($("#style-3")[0].scrollHeight),$(".feedbckhide").addClass("animated fadeOutLeft"),$(".feedbckhide").remove(),$.ajax({url:"api/v1/getWatsonConversationResponse",method:"POST",data:{query:e,conversationId:$("body").data("conversationId"),date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z")}}).done(function(e){if(null!=e)if("redirect:index.html"==e)window.location.href="index.html?return_url=supportChat.html";else{var a=$.parseJSON(e);0<a.responseList.length&&($("body").data("conversationId",a.responseList[0].conversationId),$(".innerMaintxt").replaceWith(a.responseList[0].responseText),$(".innertimetxt").replaceWith("<div class='chat-details'><span class='chat-message-localization font-size-small'> "+dateFormat()+"</span></div>"),$("#query").val(""),$("#askwatson").css("pointer-events","visible"),$("#query").prop("disabled",!1),$("#gotoBack").css("pointer-events","none"),$("#gotoBack").prop("disabled",!0),$("#gotoInit").css("pointer-events","none"),$("#gotoInit").prop("disabled",!0),$("#style-3").scrollTop($("#style-3")[0].scrollHeight))}}).fail(function(){$("#askwatson").css("pointer-events","visible"),$("#query").prop("disabled",!1),$.ajax({url:"api/v1/saveChatViaAjax",method:"POST",data:{botReplyVal:"I am having trouble understanding you. Please rephrase your question.",type:"bot",conversationId:$("body").data("conversationId"),date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z"),conversationChannel:"web"}}).done(function(e){moment(e).format("Z");$(".innerMaintxt").replaceWith("I am having trouble understanding you. Please rephrase your question."),$(".innertimetxt").replaceWith("<div class='chat-details'><span class='chat-message-localization font-size-small'> "+dateFormat()+"</span></div>"),$("#style-3").scrollTop($("#style-3")[0].scrollHeight),$("#askwatson").css("pointer-events","visible"),$("#query").prop("disabled",!1),$("#gotoInit").css("pointer-events","visible"),$("#query").val(""),$("#query").focus()}).fail(function(){})})}function gotoInitial(){$("button").blur(),$(".hideBtns").css("pointer-events","none"),$(".optionbtn").addClass("optionbtncolor").removeClass("optionbtn"),$(".hidedivs").addClass("animated fadeOutLeft"),$("#gotoInit").css("pointer-events","none"),$("#gotoInit").prop("disabled",!0),$("#gotoBack").css("pointer-events","none"),$("#gotoBack").prop("disabled",!0),$.ajax({url:"api/v1/saveChatViaAjax",method:"POST",data:{botReplyVal:"Reset",type:"user",conversationId:$("body").data("conversationId"),date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z"),conversationChannel:"web"}}).done(function(e){var a="<div class='chat-message chat-message-sender'><img class='chat-image chat-image-default' src='resources/images/user.png' /><div class='chat-message-wrapper'><div class='chat-message-content'>Reset</div><div class='chat-details'><span class='chat-message-localisation font-size-small'>"+dateFormat()+"</span></div></div></div>";$("#Solrbringmore").append(a),initialConversationCall("hi")}).fail(function(){}),$(".hidedivs").remove()}function getWatsonConversationResponse(t){$.ajax({url:"api/v1/getWatsonConversationResponse",method:"POST",async:!0,data:{query:t,conversationId:$("body").data("conversationId"),date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z")}}).done(function(e){if("hi"==t)changeActive(e);else{var a=$.parseJSON(e);if(a.responseList[0].terminateSession)return $("button").attr("disabled","disabled"),void $("#query").prop("disabled",!0).val("This conversation is terminated");$("body").data("conversationId",a.responseList[0].conversationId),$(".innerMaintxt").replaceWith(a.responseList[0].responseText),$(".innertimetxt").replaceWith("<div class='chat-details'><span class='chat-message-localization font-size-small'> "+dateFormat()+"</span></div>"),$("#query").val(""),$("#askwatson").css("pointer-events","visible"),$("#query").prop("disabled",!1),$("#gotoInit").css("pointer-events","visible"),$("#style-3").scrollTop($("#style-3")[0].scrollHeight)}}).fail(function(){bootbox.alert("Something went wrong, please try again.",function(){getWatsonConversationResponse("hi")}).find(".modal-content").css({"font-weight":"bold","font-size":"1.3em","margin-top":"25%","font-family":'"Open Sans", "lt_helvetica", sans-serif'}),$(".modal-footer").css("border","0px"),$("#askwatson").css("pointer-events","visible"),$("#query").prop("disabled",!1)})}function botBtnSelect(e){$("button").blur(),LimitValue=0;var t=e.textContent;$(".hideBtns").css("pointer-events","none"),$(".optionbtn").addClass("optionbtncolor").removeClass("optionbtn"),$("#askwatson").css("pointer-events","none"),$("#query").prop("disabled",!0),$("#gotoInit").show(),$("#gotoInit").css("pointer-events","none"),$("#gotoInit").prop("disabled",!0),$("#gotoBack").css("pointer-events","none"),$("#gotoBack").prop("disabled",!0);var s=$("#style-3")[0].scrollHeight;$.ajax({url:"api/v1/saveChatViaAjax",method:"POST",data:{botReplyVal:t,type:"user",conversationId:$("body").data("conversationId"),date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z"),conversationChannel:"web"}}).done(function(e){var a="<div class='chat-message chat-message-sender'><img class='chat-image chat-image-default' src='resources/images/user.png' /><div class='chat-message-wrapper'><div class='chat-message-content'>"+t+"</div><div class='chat-details'><span class='chat-message-localisation font-size-small'>"+dateFormat()+"</span></div></div></div>";$("#Solrbringmore").append(a),$("#Solrbringmore").append(" <div class='chat-message chat-message-recipient'><img class='chat-image chat-image-default' src='resources/images/bot1.png' /> <div class='chat-message-wrapper'> <div class='chat-message-content'><div class='innerMaintxt'><img id='loading_gif' src='resources/images/loading_dot.gif'></div></div><div class='innertimetxt'></div>"),$("#style-3").scrollTop($("#style-3")[0].scrollHeight),$.ajax({url:"api/v1/getWatsonConversationResponse",method:"POST",data:{query:t,conversationId:$("body").data("conversationId"),date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z")}}).done(function(e){if(null!=e)if("redirect:index.html"==e)window.location.href="index.html?return_url=supportChat.html";else{s=$("#style-3")[0].scrollHeight;var o=$.parseJSON(e);if($(".innerMaintxt").replaceWith(o.responseList[0].responseText),$(".innertimetxt").replaceWith("<div class='chat-details'><span class='chat-message-localization font-size-small'> "+dateFormat()+"</span></div>"),o.responseList[0].terminateSession)return $("button").attr("disabled","disabled"),void $("#query").prop("disabled",!0).val("This conversation is terminated");if($("body").data("conversationId",o.responseList[0].conversationId),$("#Solrbringmore").show(),$("#query").val(""),"Application"==o.responseList[0].entity||"Pwd_Application"==o.responseList[0].entity)$("#askwatson").css("pointer-events","none"),$("#query").prop("disabled",!0),$("#myFieldset").length&&(document.getElementById("myFieldset").disabled=!1),""!=o.responseList[0].entityValues&&($.ajax({url:"api/v1/getUserDetails",method:"POST"}).done(function(e){var a=e.split("##"),t=a[0],i=a[1],s=a[2];if("New Device"==o.responseList[0].entityValues)$("#new_device_imei").focus();else if("Change Device"==o.responseList[0].entityValues)$("#device_change_old_imei").focus();else if("Change User"==o.responseList[0].entityValues)$("#user_change_imei").focus();else if("PCID"==o.responseList[0].entityValues)$("#pcid_imei").focus();else if("Profit Center"==o.responseList[0].entityValues)$("#profit_center_imei").focus();else if("Termination"==o.responseList[0].entityValues)$("#terminate_imei").focus();else if("Remote Access"==o.responseList[0].entityValues){$("#remote_access_userId").val(i).prop("disabled",!0);var n=t+" / "+i+" / "+s;$("#remote_access_displayname").html(n)}else if("BitLocker"==o.responseList[0].entityValues){$("#bit_locker_username").val(i).prop("disabled",!0);n=t+" / "+i+" / "+s;$("#bit_locker_displayname").html(n)}else if("iPhone iPad"==o.responseList[0].entityValues){$("#iphone_username").val(i).prop("disabled",!0);n=t+" / "+i+" / "+s;$("#iphone_displayname").html(n),getdevicedetail(s,"iPhone/iPad")}else"Apple ID password"==o.responseList[0].entityValues&&($("#apple_id_userId").val(t).prop("disabled",!0),$("#apple_id_username").val(i).prop("disabled",!0),$("#apple_id_mail").val(s).prop("disabled",!0))}),$("#search_username").on("change",function(e){var a=e.added.usr_id,t=e.added.email_id,i=a+" / "+e.added.username+" / "+t;$("#displaynewusr_name").html(i)}));else if(0<=o.responseList[0].responseText.toString().indexOf("Please rate your experience"))$("#askwatson").css("pointer-events","none"),$("#query").prop("disabled",!0);else if(0<=o.responseList[0].responseText.toString().indexOf("let me check if I can help you with this")){for(var a=!1,t=o.responseList[0].permissionList.split(","),i=0;i<t.length;i++)"REQUEST_APPROVE"!=t[i]&&"REQUEST_CLOSE"!=t[i]||(a=!0);$("#Solrbringmore").append(" <div class='chat-message chat-message-recipient'><img class='chat-image chat-image-default' src='resources/images/bot1.png' /> <div class='chat-message-wrapper'> <div class='chat-message-content'><div class='innerMaintxt'><img id='loading_gif' src='resources/images/loading_dot.gif'></div></div><div class='innertimetxt'></div>"),a?(getWatsonConversationResponse("AuthorisedtoDeviceRequest"),setTimeout(function(){window.location.href="requestDetails.html"},5e3)):getWatsonConversationResponse("UnauthorisedtoDeviceRequest")}else $("#askwatson").css("pointer-events","visible"),$("#query").prop("disabled",!1);$("#style-3").scrollTop(s+2),$("#gotoInit").css("pointer-events","visible"),$("#gotoInit").prop("disabled",!1),$("#gotoBack").css("pointer-events","visible"),$("#gotoBack").prop("disabled",!1),$('[data-toggle="tooltip"]').tooltip(),$("#gotoBack").show()}}).fail(function(){$.ajax({url:"api/v1/saveChatViaAjax",method:"POST",data:{botReplyVal:"I am having trouble understanding you. Please rephrase your question.",type:"bot",date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z"),conversationChannel:"web"}}).done(function(e){$(".innerMaintxt").replaceWith("I am having trouble understanding you. Please rephrase your question."),$(".innertimetxt").replaceWith("<div class='chat-details'><span class='chat-message-localization font-size-small'> "+dateFormat()+"</span></div>"),$("#style-3").scrollTop($("#style-3")[0].scrollHeight),$("#askwatson").css("pointer-events","visible"),$("#query").prop("disabled",!1),$("#gotoInit").css("pointer-events","visible"),$("#gotoInit").prop("disabled",!1),$("#gotoBack").css("pointer-events","visible"),$("#gotoBack").prop("disabled",!1)}).fail(function(){})})}).fail(function(){})}function askwatson(){if($("button").blur(),LimitValue=0,""==$.trim($("#query").val()))return bootbox.alert("Please Enter the question.").find(".modal-content").css({"font-weight":"bold","font-size":"1.3em","margin-top":"25%","font-family":'"Open Sans", "lt_helvetica", sans-serif'}).on("shown.bs.modal",function(){$("#query").focus()}),void $(".modal-footer").css("border","0px");$(".hideBtns").css("pointer-events","none"),$(".optionbtn").addClass("optionbtncolor").removeClass("optionbtn"),$("#gotoInit").show(),$("#gotoInit").css("pointer-events","none"),$("#gotoInit").prop("disabled",!0),$("#gotoBack").css("pointer-events","none"),$("#gotoBack").prop("disabled",!0),$("#query").blur(),$("#askwatson").css("pointer-events","none"),$("#query").prop("disabled",!0),askquestion=$("#query").val();var s=$("#style-3")[0].scrollHeight;$.ajax({url:"api/v1/saveChatViaAjax",method:"POST",data:{botReplyVal:$("#query").val().trim(),type:"user",conversationId:$("body").data("conversationId"),date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z"),conversationChannel:"web"}}).done(function(e){var a="<div class='chat-message chat-message-sender'><img class='chat-image chat-image-default' src='resources/images/user.png' /><div class='chat-message-wrapper'><div class='chat-message-content'>"+$("#query").val().trim()+"</div><div class='chat-details'><span class='chat-message-localisation font-size-small'>"+dateFormat()+"</span></div></div></div>";$("#Solrbringmore").append(a);$("#Solrbringmore").append(" <div class='chat-message chat-message-recipient'><img class='chat-image chat-image-default' src='resources/images/bot1.png' /> <div class='chat-message-wrapper'> <div class='chat-message-content'><div class='innerMaintxt'><img id='loading_gif' src='resources/images/loading_dot.gif'></div></div><div class='innertimetxt'></div>"),$("#style-3").scrollTop($("#style-3")[0].scrollHeight),$.ajax({url:"api/v1/getWatsonConversationResponse",method:"POST",async:!0,data:{query:$("#query").val(),conversationId:$("body").data("conversationId"),date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z")}}).done(function(e){if(null!=e)if("redirect:index.html"==e)window.location.href="index.html?return_url=supportChat.html";else{s=$("#style-3")[0].scrollHeight;var o=$.parseJSON(e);if($(".innerMaintxt").replaceWith(o.responseList[0].responseText),$(".innertimetxt").replaceWith("<div class='chat-details'><span class='chat-message-localization font-size-small'> "+dateFormat()+"</span></div>"),o.responseList[0].terminateSession)return $("button").attr("disabled","disabled"),void $("#query").prop("disabled",!0).val("This conversation is terminated");if($("body").data("conversationId",o.responseList[0].conversationId),"Application"==o.responseList[0].entity||"Pwd_Application"==o.responseList[0].entity)$("#askwatson").css("pointer-events","none"),$("#query").prop("disabled",!0),$("#myFieldset").length&&(document.getElementById("myFieldset").disabled=!1),""!=o.responseList[0].entityValues&&$.ajax({url:"api/v1/getUserDetails",method:"POST"}).done(function(e){var a=e.split("##"),t=a[0],i=a[1],s=a[2];if("New Device"==o.responseList[0].entityValues)$("#new_device_imei").focus();else if("Change Device"==o.responseList[0].entityValues)$("#device_change_old_imei").focus();else if("Change User"==o.responseList[0].entityValues)$("#user_change_imei").focus();else if("PCID"==o.responseList[0].entityValues)$("#pcid_imei").focus();else if("Profit Center"==o.responseList[0].entityValues)$("#profit_center_imei").focus();else if("Termination"==o.responseList[0].entityValues)$("#terminate_imei").focus();else if("Remote Access"==o.responseList[0].entityValues){$("#remote_access_userId").val(i).prop("disabled",!0);var n=t+" / "+i+" / "+s;$("#remote_access_displayname").html(n)}else if("BitLocker"==o.responseList[0].entityValues){$("#bit_locker_username").val(i).prop("disabled",!0);n=t+" / "+i+" / "+s;$("#bit_locker_displayname").html(n)}else if("iPhone iPad"==o.responseList[0].entityValues){$("#iphone_username").val(i).prop("disabled",!0);n=t+" / "+i+" / "+s;$("#iphone_displayname").html(n),getdevicedetail(s,"iPhone/iPad")}else"Apple ID password"==o.responseList[0].entityValues&&($("#apple_id_userId").val(t).prop("disabled",!0),$("#apple_id_username").val(i).prop("disabled",!0),$("#apple_id_mail").val(s).prop("disabled",!0))});else if(0<=o.responseList[0].responseText.toString().indexOf("Please rate your experience"))$("#askwatson").css("pointer-events","none"),$("#query").prop("disabled",!0);else if(0<=o.responseList[0].responseText.toString().indexOf("let me check if I can help you with this")){for(var a=!1,t=o.responseList[0].permissionList.split(","),i=0;i<t.length;i++)"REQUEST_APPROVE"!=t[i]&&"REQUEST_CLOSE"!=t[i]||(a=!0);$("#Solrbringmore").append(" <div class='chat-message chat-message-recipient'><img class='chat-image chat-image-default' src='resources/images/bot1.png' /> <div class='chat-message-wrapper'> <div class='chat-message-content'><div class='innerMaintxt'><img id='loading_gif' src='resources/images/loading_dot.gif'></div></div><div class='innertimetxt'></div>"),a?(getWatsonConversationResponse("AuthorisedtoDeviceRequest"),setTimeout(function(){window.location.href="requestDetails.html"},5e3)):getWatsonConversationResponse("UnauthorisedtoDeviceRequest")}else $("#askwatson").css("pointer-events","visible"),$("#query").prop("disabled",!1);$("#style-3").scrollTop(s+2),$("#query").val(""),$("#query").focus(),$("#gotoInit").css("pointer-events","visible"),$("#gotoInit").prop("disabled",!1),$("#gotoBack").css("pointer-events","visible"),$("#gotoBack").prop("disabled",!1),$('[data-toggle="tooltip"]').tooltip(),$("#gotoBack").show()}}).fail(function(){$("#askwatson").css("pointer-events","visible"),$("#query").prop("disabled",!1),$("#gotoInit").css("pointer-events","visible"),$("#gotoInit").prop("disabled",!1),$("#gotoBack").css("pointer-events","visible"),$("#gotoBack").prop("disabled",!1),$.ajax({url:"api/v1/saveChatViaAjax",method:"POST",data:{botReplyVal:"I am having trouble understanding you. Please rephrase your question.",type:"bot",conversationId:$("body").data("conversationId"),date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z"),conversationChannel:"web"}}).done(function(e){$(".innerMaintxt").replaceWith("I am having trouble understanding you. Please rephrase your question."),$(".innertimetxt").replaceWith("<div class='chat-details'><span class='chat-message-localization font-size-small'> "+dateFormat()+"</span></div>"),$("#style-3").scrollTop($("#style-3")[0].scrollHeight),$("#askwatson").css("pointer-events","visible"),$("#query").prop("disabled",!1),$("#gotoInit").css("pointer-events","visible"),$("#gotoInit").prop("disabled",!1),$("#gotoBack").css("pointer-events","visible"),$("#gotoBack").prop("disabled",!1),$("#query").val(""),$("#query").focus()}).fail(function(){})})}).fail(function(){})}function checkForChatSession(){$.ajax({url:"api/v1/checkForChatSession",method:"POST",async:!0,data:{startval:startlimit,endval:endlimit}}).done(function(e){if(""!=e)if("redirect:index.html"==e)window.location.href="index.html?return_url=supportChat.html";else{0==startlimit?($("#Solrbringmore").html(e),$("#style-3").scrollTop($("#style-3")[0].scrollHeight)):$("#Solrbringmore").prepend(e),$("#loading_gif_div").hide(),$("#query").prop("disabled",!1),$("#askwatson").css("pointer-events","visible"),$("#gotoInit").show(),$("#gotoInit").css("pointer-events","visible"),$("#gotoInit").prop("disabled",!1),$("#gotoBack").show(),$("#gotoBack").css("pointer-events","visible"),$("#gotoBack").prop("disabled",!1);var o=$(".chat-message-recipient:nth-last-of-type(1)").find("div:first-child")[0].outerHTML;o.includes('onclick="botBtnSelect(this);">iPhone/iPad general support</button><button type="button" class="btn btn-info btn-block optionbtn" onclick="botBtnSelect(this);">Submit application for new or change request</button>')&&($("#gotoBack").css("pointer-events","none"),$("#gotoBack").prop("disabled",!0),$("#gotoInit").css("pointer-events","none"),$("#gotoInit").prop("disabled",!0)),$.ajax({url:"api/v1/getUserDetails",method:"POST"}).done(function(e){var a=e.split("##"),t=a[0],i=a[1],s=a[2];if(o.includes('id="iphone_username"'))$("#iphone_userId").val(t).prop("disabled",!0),$("#iphone_username").val(i).prop("disabled",!0),$("#iphone_mail").val(s).prop("disabled",!0),getdevicedetail(s,"iPhone/iPad");else if(o.includes('id="apple_id_userId"'))$("#apple_id_userId").val(t).prop("disabled",!0),$("#apple_id_username").val(i).prop("disabled",!0),$("#apple_id_mail").val(s).prop("disabled",!0);else if(o.includes('id="bit_locker_username"')){$("#bit_locker_username").val(i).prop("disabled",!0);var n=t+" / "+i+" / "+s;$("#bit_locker_displayname").html(n)}else if(o.includes('id="remote_access_userId"')){$("#remote_access_userId").val(i).prop("disabled",!0);n=t+" / "+i+" / "+s;$("#remote_access_displayname").html(n)}})}else 0==startlimit&&getWatsonConversationResponse("hi")}).fail(function(){})}function backBtnClick(){$(".hideBtns").css("pointer-events","none"),$(".optionbtn").addClass("optionbtncolor").removeClass("optionbtn"),$("#askwatson").css("pointer-events","none"),$("#query").prop("disabled",!0),$("#gotoInit").show(),$("#gotoInit").css("pointer-events","none"),$("#gotoInit").prop("disabled",!0),$("#gotoBack").css("pointer-events","none"),$("#gotoBack").prop("disabled",!0);$("#style-3")[0].scrollHeight;$(".hidedivs").remove();LimitValue++,$.ajax({url:"api/v1/saveChatViaAjax",method:"POST",data:{botReplyVal:"Back",type:"user",conversationId:$("body").data("conversationId"),date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z"),conversationChannel:"web"}}).done(function(e){var a="<div class='chat-message chat-message-sender'><img class='chat-image chat-image-default' src='resources/images/user.png' /><div class='chat-message-wrapper'><div class='chat-message-content'>Back</div><div class='chat-details'><span class='chat-message-localisation font-size-small'>"+dateFormat()+"</span></div></div></div>";$("#Solrbringmore").append(a),$("#Solrbringmore").append(" <div class='chat-message chat-message-recipient'><img class='chat-image chat-image-default' src='resources/images/bot1.png' /> <div class='chat-message-wrapper'> <div class='chat-message-content'><div class='innerMaintxt'><img id='loading_gif' src='resources/images/loading_dot.gif'></div></div><div class='innertimetxt'></div>"),$("#style-3").scrollTop($("#style-3")[0].scrollHeight),$.ajax({url:"api/v1/getBackBtnData",method:"POST",async:!0,data:{limitval:LimitValue,date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z")}}).done(function(o){""!=o&&("redirect:index.html"==o?window.location.href="index.html?return_url=supportChat.html":($("#style-3")[0].scrollHeight,$(".innerMaintxt").replaceWith(o),$(".innertimetxt").replaceWith("<div class='chat-details'><span class='chat-message-localization font-size-small'> "+dateFormat()+"</span></div>"),$("#loading_gif_div").hide(),$("#query").prop("disabled",!1),$("#askwatson").css("pointer-events","visible"),$("#gotoInit").show(),$("#gotoInit").css("pointer-events","visible"),$("#gotoInit").prop("disabled",!1),$("#gotoBack").css("pointer-events","visible"),$("#gotoBack").prop("disabled",!1),$("#style-3").scrollTop($("#style-3")[0].scrollHeight),o.includes("onclick='botBtnSelect(this);'>iPhone/iPad general support</button><button type='button' class='btn btn-info btn-block optionbtn' onclick='botBtnSelect(this);'>Submit application for new or change request</button>")&&($("#gotoBack").css("pointer-events","none"),$("#gotoBack").prop("disabled",!0),$("#gotoInit").css("pointer-events","none"),$("#gotoInit").prop("disabled",!0)),$.ajax({url:"api/v1/getUserDetails",method:"POST"}).done(function(e){var a=e.split("##"),t=a[0],i=a[1],s=a[2];if(o.includes("id='iphone_username'"))$("#iphone_userId").val(t).prop("disabled",!0),$("#iphone_username").val(i).prop("disabled",!0),$("#iphone_mail").val(s).prop("disabled",!0),getdevicedetail(s,"iPhone/iPad");else if(o.includes("id='apple_id_userId'"))$("#apple_id_userId").val(t).prop("disabled",!0),$("#apple_id_username").val(i).prop("disabled",!0),$("#apple_id_mail").val(s).prop("disabled",!0);else if(o.includes("id='bit_locker_username'")){$("#bit_locker_username").val(i).prop("disabled",!0);var n=t+" / "+i+" / "+s;$("#bit_locker_displayname").html(n)}else if(o.includes("id='remote_access_userId'")){$("#remote_access_userId").val(i).prop("disabled",!0);n=t+" / "+i+" / "+s;$("#remote_access_displayname").html(n)}}),$("#myFieldset").length&&(document.getElementById("myFieldset").disabled=!1),LimitValue++))}).fail(function(){})})}function getuserdetails(){$("#search_username").select2({placeholder:"Search User Name",minimumInputLength:1,allowClear:!0,maximumSelectionSize:1,multiple:!1,ajax:{url:"api/v1/getRequestUserName.do",dataType:"json",type:"POST",quietMillis:250,id:function(e){return e.username},data:function(e,a){return{q:e,page:a}},results:function(e,a){var t=30*a<e.jArray.length;return{results:e.jArray,more:t}}},formatResult:function(e){return e.username},formatSelection:function(e){return e.username},initSelection:function(e,a){var t=[];""!=e.val()&&$.each(e.val().split(","),function(e,a){t.push({id:a,text:a})}),a(t)},dropdownCssClass:"bigdrop",escapeMarkup:function(e){return e}})}function getdevicedetail(e,a){$.ajax({url:"api/v1/getresetpswdDeviceDetail",method:"POST",data:{emailid:e,devicetype:a}}).done(function(e){if(""!=e){var a=e.split("##");$("#iphone_phone_number").val(a[0]),$("#iphone_imei").val(a[1]),$("#iphone_serial_number").val(a[2])}})}function dateFormat(){var e=new Date,a=e.getDate(),t=e.getMonth()+1,i=e.getFullYear(),s=e.getHours(),n=e.getMinutes(),o=e.getSeconds();return i+"-"+(t<=9?"0"+t:t)+"-"+(a<=9?"0"+a:a)+" "+(s<=9?"0"+s:s)+":"+(n<=9?"0"+n:n)+":"+(o<=9?"0"+o:o)}jQuery(document).ready(function(){$(".nobtnptr1").addClass("nohovermenu"),$(".nobtnptr1").css({"pointer-events":"none",background:"#ccc"}),$(".nobtnptr1 a").css("color","#000"),checkForChatSession(),$("#style-3").on("scroll",function(){$(this).scrollTop()<=0&&(startlimit=endlimit+1,endlimit+=50,checkForChatSession())})}),mitsui.pages.supportChart={showAll:function(){},insertResetPasswordRequestForIphoneAndIpad:function(){var e=$("#iphone_displayname").text().split(" / "),a=e[0],t=e[1],i=e[2],s=$("#iphone_phone_number").val(),n=$("#iphone_imei").val(),o=$("#iphone_serial_number").val();if(0==$.trim(s).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter phone number.",callback:function(){setTimeout(function(){$("#iphone_phone_number").focus()},150)}});else if(0==$.trim(n).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter IMEI number.",callback:function(){setTimeout(function(){$("#iphone_imei").focus()},150)}});else if(0==$.trim(o).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter serial number.",callback:function(){setTimeout(function(){$("#iphone_serial_number").focus()},150)}});else{$(".hidedivs").addClass("animated fadeOutLeft"),$(".hidedivs").remove();var l="",r="";l+='<div class="chat-message chat-message-sender">',l+='<img class="chat-image chat-image-default" src="resources/images/user.png">',l+=' <div class="chat-message-wrapper">',l+='<div class="chat-message-content">',l+="<b><p>Reset password application for iPhone/iPad</p></b>",r+="<p>Following are details:</p>",r+="<p>User ID: "+a+"</p>",r+="<p>Username: "+t+"</p>",r+="<p>User Mail Address: "+i+"</p>",r+="<p>User Phone Number: "+s+"</p>",r+="<p>User IMEI Number: "+n+"</p>",l+=r+="<p>User Serial Number: "+o+"</p>",l+="</div>",l+='<div class="chat-details">',l+='<span class="chat-message-localisation font-size-small">',l+=""+dateFormat(),l+="</span>",l+="</div></div></div>",$("#Solrbringmore").append(l),mitsui.pages.supportChart.insertSenderResponse(r),mitsui.pages.supportChart.insertResetPasswordRequest("","iPhone/iPad",a,t,i,"",s,n,o)}},insertResetPasswordRequestForAppleID:function(){var e=$("#apple_id_userId").val(),a=$("#apple_id_username").val(),t=$("#apple_id_mail").val();if(0==$.trim(e).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user id.",callback:function(){setTimeout(function(){$("#apple_id_userId").focus()},150)}});else if(0==$.trim(a).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user name.",callback:function(){setTimeout(function(){$("#apple_id_username").focus()},150)}});else if(0==$.trim(t).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user mail address.",callback:function(){setTimeout(function(){$("#apple_id_mail").focus()},150)}});else if(0==/^[a-zA-Z0-9][A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i.test($.trim(t)))bootbox.alert({size:"small",title:"Submit application",message:"Incorrect user mail address.",callback:function(){setTimeout(function(){$("#apple_id_mail").val(""),$("#apple_id_mail").focus()},150)}});else if(-1==$.trim(t).indexOf(emailDomain)&&-1==$.trim(t).indexOf(emailDomain1))bootbox.alert({size:"small",title:"Submit application",message:"Domain name should not be other than @mitsui.com",callback:function(){setTimeout(function(){$("#apple_id_mail").val(""),$("#apple_id_mail").focus()},150)}});else{$(".hidedivs").addClass("animated fadeOutLeft"),$(".hidedivs").remove();var i="",s="";i+='<div class="chat-message chat-message-sender">',i+='<img class="chat-image chat-image-default" src="resources/images/user.png">',i+=' <div class="chat-message-wrapper">',i+='<div class="chat-message-content">',i+="<b><p>Reset password application for Apple ID</p></b>",s+="<p>Following are details:</p>",s+="<p>User ID: "+e+"</p>",s+="<p>Username: "+a+"</p>",i+=s+="<p>User Mail Address: "+t+"</p>",i+="</div>",i+='<div class="chat-details">',i+='<span class="chat-message-localisation font-size-small">',i+=""+dateFormat(),i+="</span>",i+="</div></div></div>",$("#Solrbringmore").append(i),mitsui.pages.supportChart.insertSenderResponse(s),mitsui.pages.supportChart.insertResetPasswordRequest("","Apple ID",e,a,t)}},insertResetPasswordRequestForRemoteAccess:function(){var e=$("#remote_access_displayname").text().split(" / "),a=e[0],t=e[1],i=e[2];if(0==$.trim(a).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user id.",callback:function(){setTimeout(function(){$("#remote_access_userId").focus()},150)}});else if(0==$.trim(t).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user name.",callback:function(){setTimeout(function(){$("#remote_access_username").focus()},150)}});else if(0==$.trim(i).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user mail address.",callback:function(){setTimeout(function(){$("#remote_access_mail").focus()},150)}});else if(0==/^[a-zA-Z0-9][A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i.test($.trim(i)))bootbox.alert({size:"small",title:"Submit application",message:"Incorrect user mail address.",callback:function(){setTimeout(function(){$("#remote_access_mail").val(""),$("#remote_access_mail").focus()},150)}});else if(-1==$.trim(i).indexOf(emailDomain)&&-1==$.trim(i).indexOf(emailDomain1))bootbox.alert({size:"small",title:"Submit application",message:"Domain name should not be other than @mitsui.com",callback:function(){setTimeout(function(){$("#remote_access_mail").val(""),$("#remote_access_mail").focus()},150)}});else{$(".hidedivs").addClass("animated fadeOutLeft"),$(".hidedivs").remove();var s="",n="";s+='<div class="chat-message chat-message-sender">',s+='<img class="chat-image chat-image-default" src="resources/images/user.png">',s+=' <div class="chat-message-wrapper">',s+='<div class="chat-message-content">',s+="<b><p>Reset password application for Remote Access</p></b>",n+="<p>Following are details:</p>",n+="<p>User ID: "+a+"</p>",n+="<p>Username: "+t+"</p>",s+=n+="<p>User Mail Address: "+i+"</p>",s+="</div>",s+='<div class="chat-details">',s+='<span class="chat-message-localisation font-size-small">',s+=""+dateFormat(),s+="</span>",s+="</div></div></div>",$("#Solrbringmore").append(s),mitsui.pages.supportChart.insertSenderResponse(n),mitsui.pages.supportChart.insertResetPasswordRequest("","Remote Access",a,t,i,"","","","")}},insertResetPasswordRequestForBitLocker:function(){var e=$("#bit_locker_displayname").text().split(" / "),a=e[0],t=e[1],i=e[2],s=$("#bit_locker_pcid").val();if(0==$.trim(s).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter PCID value.",callback:function(){setTimeout(function(){$("#bit_locker_pcid").focus()},150)}});else{$(".hidedivs").addClass("animated fadeOutLeft"),$(".hidedivs").remove();var n="",o="";n+='<div class="chat-message chat-message-sender">',n+='<img class="chat-image chat-image-default" src="resources/images/user.png">',n+=' <div class="chat-message-wrapper">',n+='<div class="chat-message-content">',n+="<b><p>Reset password application for BitLocker</p></b>",o+="<p>Following are details:</p>",o+="<p>User ID: "+a+"</p>",o+="<p>Username: "+t+"</p>",o+="<p>User Mail Address: "+i+"</p>",n+=o+="<p>New PCID: "+s+"</p>",n+="</div>",n+='<div class="chat-details">',n+='<span class="chat-message-localisation font-size-small">',n+=""+dateFormat(),n+="</span>",n+="</div></div></div>",$("#Solrbringmore").append(n),mitsui.pages.supportChart.insertSenderResponse(o),mitsui.pages.supportChart.insertResetPasswordRequest("","BitLocker",a,t,i,s,"","","")}},insertResetPasswordRequest:function(e,a,t,i,s,n,o,l,r){$.ajax({url:"api/v1/insertResetPasswordRequest.html",method:"POST",async:!0,data:{device_type:e,requestType:a,user_id:t,user_name:i,user_email_id:s,pcid:n,phoneno:o,imei:l,srlno:r}}).done(function(e){null!=e?"redirect:supportChat.html"==e?window.location.href="index.html?return_url=supportChat.html":getWatsonConversationResponse("SQLERROR"==e?"PasswordChangeFail":"PasswordChangeSuccess"):getWatsonConversationResponse("PasswordChangeFail")}).fail(function(){getWatsonConversationResponse("PasswordChangeFail")})},insertDeviceRequestForNewDevice:function(){var e=/^[a-zA-Z0-9][A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i,a=$("#new_device_device_type :selected").val(),t=$("#new_device_imei").val(),i=$("#new_device_serial_number").val(),s=$("#new_device_phone_number").val(),n=$("#new_device_user_id").val(),o=$("#new_device_username").val(),l=$("#new_device_mail_address").val(),r=$("#new_device_pcid").val(),c=$("#new_device_profit_center").val(),m=$("#new_device_approver_name").val(),d=$("#new_device_approver_mail_address").val(),p=$("#new_device_user_level :selected").val(),u=$("#new_device_applicant_division").val();if(0==$.trim(t).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter IMEI number.",callback:function(){setTimeout(function(){$("#new_device_imei").focus()},150)}});else if($.trim(t).length<15)bootbox.alert({size:"small",title:"Submit application",message:"Please enter 15 digit IMEI number.",callback:function(){setTimeout(function(){$("#new_device_imei").val(""),$("#new_device_imei").focus()},150)}});else if(0==$.trim(i).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter serial number.",callback:function(){setTimeout(function(){$("#new_device_serial_number").focus()},150)}});else if(0==$.trim(s).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter phone number.",callback:function(){setTimeout(function(){$("#new_device_phone_number").focus()},150)}});else if(0==$.trim(n).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user id.",callback:function(){setTimeout(function(){$("#new_device_user_id").focus()},150)}});else if(0==$.trim(o).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user name.",callback:function(){setTimeout(function(){$("#new_device_username").focus()},150)}});else if(0==$.trim(l).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user mail address.",callback:function(){setTimeout(function(){$("#new_device_mail_address").focus()},150)}});else if(0==e.test($.trim(l)))bootbox.alert({size:"small",title:"Submit application",message:"Incorrect user mail address.",callback:function(){setTimeout(function(){$("#new_device_mail_address").val(""),$("#new_device_mail_address").focus()},150)}});else if(-1==$.trim(l).indexOf(emailDomain)&&-1==$.trim(l).indexOf(emailDomain1))bootbox.alert({size:"small",title:"Submit application",message:"Domain name should not be other than @mitsui.com",callback:function(){setTimeout(function(){$("#new_device_mail_address").val(""),$("#new_device_mail_address").focus()},150)}});else if(0==$.trim(r).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter PCID.",callback:function(){setTimeout(function(){$("#new_device_pcid").focus()},150)}});else if(0==$.trim(c).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter profit center.",callback:function(){setTimeout(function(){$("#new_device_profit_center").focus()},150)}});else if(0==$.trim(m).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter approver name.",callback:function(){setTimeout(function(){$("#new_device_approver_name").focus()},150)}});else if(0==$.trim(d).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter approver mail address.",callback:function(){setTimeout(function(){$("#new_device_approver_mail_address").focus()},150)}});else if(0==e.test($.trim(d)))bootbox.alert({size:"small",title:"Submit application",message:"Incorrect approver mail address.",callback:function(){setTimeout(function(){$("#new_device_approver_mail_address").val(""),$("#new_device_approver_mail_address").focus()},150)}});else if(-1==$.trim(d).indexOf(emailDomain)&&-1==$.trim(d).indexOf(emailDomain1))bootbox.alert({size:"small",title:"Submit application",message:"Domain name should not be other than @mitsui.com",callback:function(){setTimeout(function(){$("#new_device_approver_mail_address").val(""),$("#new_device_approver_mail_address").focus()},150)}});else if($.trim(l)==$.trim(d))bootbox.alert({size:"small",title:"Submit application",message:"User mail address and approver mail address must be different.",callback:function(){setTimeout(function(){$("#new_device_mail_address").val(""),$("#new_device_approver_mail_address").val(""),$("#new_device_mail_address").focus()},150)}});else if(0==$.trim(u).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter applicant division.",callback:function(){setTimeout(function(){$("#new_device_applicant_division").focus()},150)}});else{$(".hidedivs").addClass("animated fadeOutLeft"),$(".hidedivs").remove();var v="",f="";v+='<div class="chat-message chat-message-sender">',v+='<img class="chat-image chat-image-default" src="resources/images/user.png">',v+=' <div class="chat-message-wrapper">',v+='<div class="chat-message-content">',f+="Following are details for new device application:",f+="<p>Device Type: "+a+"</p>",f+="<p>IMEI: "+t+"</p>",f+="<p>Serial Number: "+i+"</p>",f+="<p>Phone Number: "+s+"</p>",f+="<p>User ID: "+n+"</p>",f+="<p>Username: "+o+"</p>",f+="<p>User Mail Address: "+l+"</p>",f+="<p>PCID: "+r+"</p>",f+="<p>Profit Center: "+c+"</p>",f+="<p>Approver Name: "+m+"</p>",f+="<p>Approver Mail Address: "+d+"</p>",f+="<p>User Level: "+p+"</p>",v+=f+="<p>Applicant Division: "+u+"</p>",v+="</div>",v+='<div class="chat-details">',v+='<span class="chat-message-localisation font-size-small">',v+=""+dateFormat(),v+="</span>",v+="</div></div></div>",$("#Solrbringmore").append(v),mitsui.pages.supportChart.insertSenderResponse(f),$.ajax({url:"api/v1/insertDeviceRequestForNewDevice.html",method:"POST",async:!0,data:{device_type:a,imei_no:t,sl_no:i,phone_number:s,user_id:n,user_name:o,user_email_id:l,pcid:r,profit_center:c,approver_name:m,approver_email_id:d,user_level:p,applicant_division:u}}).done(function(e){null!=e?"redirect:supportChat.html"==e?window.location.href="index.html?return_url=supportChat.html":getWatsonConversationResponse("SQLERROR"==e?"ApplicationSubmitFail":"ApplicationSubmitSuccess"):getWatsonConversationResponse("ApplicationSubmitFail")}).fail(function(){getWatsonConversationResponse("ApplicationSubmitFail")})}},insertDeviceRequestForDeviceChange:function(){var e=/^[a-zA-Z0-9][A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i,a=$("#device_change_old_imei").val(),t=$("#device_change_old_serial_number").val(),i=$("#device_change_new_imei").val(),s=$("#device_change_new_serial_number").val(),n=$("#device_change_user_id").val(),o=$("#device_change_username").val(),l=$("#device_change_mail_address").val(),r=$("#device_change_approver_name").val(),c=$("#device_change_approver_mail_address").val(),m=$("#device_change_user_level :selected").val(),d=$("#device_change_applicant_division").val();if(0==$.trim(a).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter old IMEI number.",callback:function(){setTimeout(function(){$("#device_change_old_imei").focus()},150)}});else if($.trim(a).length<15)bootbox.alert({size:"small",title:"Submit application",message:"Please enter 15 digit old IMEI number.",callback:function(){setTimeout(function(){$("#device_change_old_imei").val(""),$("#device_change_old_imei").focus()},150)}});else if(0==$.trim(t).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter old serial number.",callback:function(){setTimeout(function(){$("#device_change_old_serial_number").focus()},150)}});else if(0==$.trim(i).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter new IMEI number.",callback:function(){setTimeout(function(){$("#device_change_new_imei").focus()},150)}});else if($.trim(i).length<15)bootbox.alert({size:"small",title:"Submit application",message:"Please enter 15 digit new IMEI number.",callback:function(){setTimeout(function(){$("#device_change_new_imei").val(""),$("#device_change_new_imei").focus()},150)}});else if(0==$.trim(s).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter new serial number.",callback:function(){setTimeout(function(){$("#device_change_new_serial_number").focus()},150)}});else if($.trim(a)==$.trim(i))bootbox.alert({size:"small",title:"Submit application",message:"Old IMEI and new IMEI must be different.",callback:function(){setTimeout(function(){$("#device_change_new_imei").val(""),$("#device_change_old_imei").val(""),$("#device_change_old_imei").focus()},150)}});else if($.trim(t)==$.trim(s))bootbox.alert({size:"small",title:"Submit application",message:"Old serial number and new serial must be different.",callback:function(){setTimeout(function(){$("#device_change_old_serial_number").val(""),$("#device_change_new_serial_number").val(""),$("#device_change_old_serial_number").focus()},150)}});else if(0==$.trim(n).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user id.",callback:function(){setTimeout(function(){$("#device_change_user_id").focus()},150)}});else if(0==$.trim(o).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user name.",callback:function(){setTimeout(function(){$("#device_change_username").focus()},150)}});else if(0==$.trim(l).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user mail address.",callback:function(){setTimeout(function(){$("#device_change_mail_address").focus()},150)}});else if(0==e.test($.trim(l)))bootbox.alert({size:"small",title:"Submit application",message:"Incorrect user mail address.",callback:function(){setTimeout(function(){$("#device_change_mail_address").val(""),$("#device_change_mail_address").focus()},150)}});else if(-1==$.trim(l).indexOf(emailDomain)&&-1==$.trim(l).indexOf(emailDomain1))bootbox.alert({size:"small",title:"Submit application",message:"Domain name should not be other than @mitsui.com",callback:function(){setTimeout(function(){$("#device_change_mail_address").val(""),$("#device_change_mail_address").focus()},150)}});else if(0==$.trim(r).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter approver name.",callback:function(){setTimeout(function(){$("#device_change_approver_name").focus()},150)}});else if(0==$.trim(c).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter approver mail address.",callback:function(){setTimeout(function(){$("#device_change_approver_mail_address").focus()},150)}});else if(0==e.test($.trim(c)))bootbox.alert({size:"small",title:"Submit application",message:"Incorrect approver mail address.",callback:function(){setTimeout(function(){$("#device_change_approver_mail_address").val(""),$("#device_change_approver_mail_address").focus()},150)}});else if(-1==$.trim(c).indexOf(emailDomain)&&-1==$.trim(c).indexOf(emailDomain1))bootbox.alert({size:"small",title:"Submit application",message:"Domain name should not be other than @mitsui.com",callback:function(){setTimeout(function(){$("#device_change_approver_mail_address").val(""),$("#device_change_approver_mail_address").focus()},150)}});else if($.trim(l)==$.trim(c))bootbox.alert({size:"small",title:"Submit application",message:"User mail address and approver mail address must be different.",callback:function(){setTimeout(function(){$("#device_change_mail_address").val(""),$("#device_change_approver_mail_address").val(""),$("#device_change_mail_address").focus()},150)}});else if(0==$.trim(d).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter applicant division.",callback:function(){setTimeout(function(){$("#device_change_applicant_division").focus()},150)}});else{$(".hidedivs").addClass("animated fadeOutLeft"),$(".hidedivs").remove();var p="",u="";p+='<div class="chat-message chat-message-sender">',p+='<img class="chat-image chat-image-default" src="resources/images/user.png">',p+=' <div class="chat-message-wrapper">',p+='<div class="chat-message-content">',u+="Following are details for change device application:",u+="<p>Old IMEI: "+a+"</p>",u+="<p>Old Serial Number: "+t+"</p>",u+="<p>New IMEI: "+i+"</p>",u+="<p>New Serial Number: "+s+"</p>",u+="<p>User ID: "+n+"</p>",u+="<p>Username: "+o+"</p>",u+="<p>User Mail Address: "+l+"</p>",u+="<p>Approver Name: "+r+"</p>",u+="<p>Approver Mail Address: "+c+"</p>",u+="<p>User Level: "+m+"</p>",p+=u+="<p>Applicant Division: "+d+"</p>",p+="</div>",p+='<div class="chat-details">',p+='<span class="chat-message-localisation font-size-small">',p+=""+dateFormat(),p+="</span>",p+="</div></div></div>",$("#Solrbringmore").append(p),mitsui.pages.supportChart.insertSenderResponse(u),$.ajax({url:"api/v1/insertDeviceRequestForDeviceChange.html",method:"POST",async:!0,data:{old_imei_no:a,old_sl_no:t,imei_no:i,sl_no:s,user_id:n,user_name:o,user_email_id:l,approver_name:r,approver_email_id:c,user_level:m,applicant_division:d}}).done(function(e){null!=e?"redirect:supportChat.html"==e?window.location.href="index.html?return_url=supportChat.html":getWatsonConversationResponse("SQLERROR"==e?"ApplicationSubmitFail":"TurnOffApplicationsSuccess"):getWatsonConversationResponse("ApplicationSubmitFail")}).fail(function(){getWatsonConversationResponse("ApplicationSubmitFail")})}},insertDeviceRequestForUserChange:function(){var e=/^[a-zA-Z0-9][A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i,a=$("#user_change_imei").val(),t=$("#user_change_serial_number").val(),i=$("#user_change_old_user_id").val(),s=$("#user_change_old_username").val(),n=$("#user_change_old_mail_address").val(),o=$("#user_change_new_user_id").val(),l=$("#user_change_new_username").val(),r=$("#user_change_new_mail_address").val(),c=$("#user_change_approver_name").val(),m=$("#user_change_approver_mail_address").val(),d=$("#user_change_user_level :selected").val(),p=$("#user_change_applicant_division").val();if(0==$.trim(a).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter IMEI number.",callback:function(){setTimeout(function(){$("#user_change_imei").focus()},150)}});else if($.trim(a).length<15)bootbox.alert({size:"small",title:"Submit application",message:"Please enter 15 digit IMEI number.",callback:function(){setTimeout(function(){$("#user_change_imei").val(""),$("#user_change_imei").focus()},150)}});else if(0==$.trim(t).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter serial number.",callback:function(){setTimeout(function(){$("#user_change_serial_number").focus()},150)}});else if(0==$.trim(i).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter old user id.",callback:function(){setTimeout(function(){$("#user_change_old_user_id").focus()},150)}});else if(0==$.trim(s).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter old user name.",callback:function(){setTimeout(function(){$("#user_change_old_username").focus()},150)}});else if(0==$.trim(n).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter old user mail address.",callback:function(){setTimeout(function(){$("#user_change_old_mail_address").focus()},150)}});else if(0==e.test($.trim(n)))bootbox.alert({size:"small",title:"Submit application",message:"Incorrect old user mail address.",callback:function(){setTimeout(function(){$("#user_change_old_mail_address").val(""),$("#user_change_old_mail_address").focus()},150)}});else if(-1==$.trim(n).indexOf(emailDomain)&&-1==$.trim(n).indexOf(emailDomain1))bootbox.alert({size:"small",title:"Submit application",message:"Domain name should not be other than @mitsui.com",callback:function(){setTimeout(function(){$("#user_change_old_mail_address").val(""),$("#user_change_old_mail_address").focus()},150)}});else if(0==$.trim(o).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter new user id.",callback:function(){setTimeout(function(){$("#user_change_new_user_id").focus()},150)}});else if(0==$.trim(l).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter new user name.",callback:function(){setTimeout(function(){$("#user_change_new_username").focus()},150)}});else if(0==$.trim(r).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter new user mail address.",callback:function(){setTimeout(function(){$("#user_change_new_mail_address").focus()},150)}});else if(0==e.test($.trim(r)))bootbox.alert({size:"small",title:"Submit application",message:"Incorrect new user mail address.",callback:function(){setTimeout(function(){$("#user_change_new_mail_address").val(""),$("#user_change_new_mail_address").focus()},150)}});else if(-1==$.trim(r).indexOf(emailDomain)&&-1==$.trim(r).indexOf(emailDomain1))bootbox.alert({size:"small",title:"Submit application",message:"Domain name should not be other than @mitsui.com",callback:function(){setTimeout(function(){$("#user_change_new_mail_address").val(""),$("#user_change_new_mail_address").focus()},150)}});else if($.trim(i)==$.trim(o))bootbox.alert({size:"small",title:"Submit application",message:"Old user id and new user id must be different.",callback:function(){setTimeout(function(){$("#user_change_new_user_id").val(""),$("#user_change_old_user_id").val(""),$("#user_change_old_user_id").focus()},150)}});else if($.trim(s)==$.trim(l))bootbox.alert({size:"small",title:"Submit application",message:"Old user name and new user name must be different.",callback:function(){setTimeout(function(){$("#user_change_new_username").val(""),$("#user_change_old_username").val(""),$("#user_change_old_username").focus()},150)}});else if($.trim(n)==$.trim(r))bootbox.alert({size:"small",title:"Submit application",message:"Old user mail address and new user mail address must be different.",callback:function(){setTimeout(function(){$("#user_change_new_mail_address").val(""),$("#user_change_old_mail_address").val(""),$("#user_change_old_mail_address").focus()},150)}});else if(0==$.trim(c).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter approver name.",callback:function(){setTimeout(function(){$("#user_change_approver_name").focus()},150)}});else if(0==$.trim(m).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter approver mail address.",callback:function(){setTimeout(function(){$("#user_change_approver_mail_address").focus()},150)}});else if(0==e.test($.trim(m)))bootbox.alert({size:"small",title:"Submit application",message:"Incorrect approver mail address.",callback:function(){setTimeout(function(){$("#user_change_approver_mail_address").val(""),$("#user_change_approver_mail_address").focus()},150)}});else if(-1==$.trim(m).indexOf(emailDomain)&&-1==$.trim(m).indexOf(emailDomain1))bootbox.alert({size:"small",title:"Submit application",message:"Domain name should not be other than @mitsui.com",callback:function(){setTimeout(function(){$("#user_change_approver_mail_address").val(""),$("#user_change_approver_mail_address").focus()},150)}});else if($.trim(r)==$.trim(m))bootbox.alert({size:"small",title:"Submit application",message:"New user mail address and approver mail address must be different.",callback:function(){setTimeout(function(){$("#user_change_new_mail_address").val(""),$("#user_change_approver_mail_address").val(""),$("#user_change_new_mail_address").focus()},150)}});else if(0==$.trim(p).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter applicant division.",callback:function(){setTimeout(function(){$("#user_change_applicant_division").focus()},150)}});else{$(".hidedivs").addClass("animated fadeOutLeft"),$(".hidedivs").remove();var u="",v="";u+='<div class="chat-message chat-message-sender">',u+='<img class="chat-image chat-image-default" src="resources/images/user.png">',u+=' <div class="chat-message-wrapper">',u+='<div class="chat-message-content">',v+="Following are details for change user application:",v+="<p>IMEI: "+a+"</p>",v+="<p>Serial Number: "+t+"</p>",v+="<p>Old User ID: "+i+"</p>",v+="<p>Old Username: "+s+"</p>",v+="<p>Old Mail Address: "+n+"</p>",v+="<p>New User ID: "+o+"</p>",v+="<p>New Username: "+l+"</p>",v+="<p>New User Mail Address: "+r+"</p>",v+="<p>Approver Name: "+c+"</p>",v+="<p>Approver Mail Address: "+m+"</p>",v+="<p>User Level: "+d+"</p>",u+=v+="<p>Applicant Division: "+p+"</p>",u+="</div>",u+='<div class="chat-details">',u+='<span class="chat-message-localisation font-size-small">',u+=""+dateFormat(),u+="</span>",u+="</div></div></div>",$("#Solrbringmore").append(u),mitsui.pages.supportChart.insertSenderResponse(v),$.ajax({url:"api/v1/insertDeviceRequestForUserChange.html",method:"POST",async:!0,data:{imei_no:a,sl_no:t,old_user_id:i,old_user_name:s,old_user_email_id:n,user_id:o,user_name:l,user_email_id:r,approver_name:c,approver_email_id:m,user_level:d,applicant_division:p}}).done(function(e){null!=e?"redirect:supportChat.html"==e?window.location.href="index.html?return_url=supportChat.html":"SQLERROR"==e||getWatsonConversationResponse("TurnOffApplicationsSuccess"):getWatsonConversationResponse("ApplicationSubmitFail")}).fail(function(){getWatsonConversationResponse("ApplicationSubmitFail")})}},insertDeviceRequestForPCID:function(){var e=/^[a-zA-Z0-9][A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i,a=$("#pcid_imei").val(),t=$("#pcid_serial_number").val(),i=$("#pcid_user_id").val(),s=$("#pcid_username").val(),n=$("#pcid_mail_address").val(),o=$("#pcid_pcid").val(),l=$("#pcid_approver_name").val(),r=$("#pcid_approver_mail_address").val(),c=$("#pcid_user_level :selected").val(),m=$("#pcid_applicant_division").val();if(0==$.trim(a).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter IMEI number.",callback:function(){setTimeout(function(){$("#pcid_imei").focus()},150)}});else if($.trim(a).length<15)bootbox.alert({size:"small",title:"Submit application",message:"Please enter 15 digit IMEI number.",callback:function(){setTimeout(function(){$("#pcid_imei").val(""),$("#pcid_imei").focus()},150)}});else if(0==$.trim(t).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter serial number.",callback:function(){setTimeout(function(){$("#pcid_serial_number").focus()},150)}});else if(0==$.trim(i).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user id.",callback:function(){setTimeout(function(){$("#pcid_user_id").focus()},150)}});else if(0==$.trim(s).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user name.",callback:function(){setTimeout(function(){$("#pcid_username").focus()},150)}});else if(0==$.trim(n).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user mail address.",callback:function(){setTimeout(function(){$("#pcid_mail_address").focus()},150)}});else if(0==e.test($.trim(n)))bootbox.alert({size:"small",title:"Submit application",message:"Incorrect user mail address.",callback:function(){setTimeout(function(){$("#pcid_mail_address").val(""),$("#pcid_mail_address").focus()},150)}});else if(-1==$.trim(n).indexOf(emailDomain)&&-1==$.trim(n).indexOf(emailDomain1))bootbox.alert({size:"small",title:"Submit application",message:"Domain name should not be other than @mitsui.com",callback:function(){setTimeout(function(){$("#pcid_mail_address").val(""),$("#pcid_mail_address").focus()},150)}});else if(0==$.trim(o).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter PCID.",callback:function(){setTimeout(function(){$("#pcid_pcid").focus()},150)}});else if(0==$.trim(l).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter approver name.",callback:function(){setTimeout(function(){$("#pcid_approver_name").focus()},150)}});else if(0==$.trim(r).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter approver mail address.",callback:function(){setTimeout(function(){$("#pcid_approver_mail_address").focus()},150)}});else if(0==e.test($.trim(r)))bootbox.alert({size:"small",title:"Submit application",message:"Incorrect approver mail address.",callback:function(){setTimeout(function(){$("#pcid_approver_mail_address").val(""),$("#pcid_approver_mail_address").focus()},150)}});else if(-1==$.trim(r).indexOf(emailDomain)&&-1==$.trim(r).indexOf(emailDomain1))bootbox.alert({size:"small",title:"Submit application",message:"Domain name should not be other than @mitsui.com",callback:function(){setTimeout(function(){$("#pcid_approver_mail_address").val(""),$("#pcid_approver_mail_address").focus()},150)}});else if($.trim(n)==$.trim(r))bootbox.alert({size:"small",title:"Submit application",message:"User mail address and approver mail address must be different.",callback:function(){setTimeout(function(){$("#pcid_mail_address").val(""),$("#pcid_approver_mail_address").val(""),$("#pcid_mail_address").focus()},150)}});else if(0==$.trim(m).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter applicant division.",callback:function(){setTimeout(function(){$("#pcid_applicant_division").focus()},150)}});else{$(".hidedivs").addClass("animated fadeOutLeft"),$(".hidedivs").remove();var d="",p="";d+='<div class="chat-message chat-message-sender">',d+='<img class="chat-image chat-image-default" src="resources/images/user.png">',d+=' <div class="chat-message-wrapper">',d+='<div class="chat-message-content">',p+="Following are details for PCID application:",p+="<p>IMEI: "+a+"</p>",p+="<p>Serial Number: "+t+"</p>",p+="<p>User ID: "+i+"</p>",p+="<p>Username: "+s+"</p>",p+="<p>User Mail Address: "+n+"</p>",p+="<p>PCID: "+o+"</p>",p+="<p>Approver Name: "+l+"</p>",p+="<p>Approver Mail Address: "+r+"</p>",p+="<p>User Level: "+c+"</p>",d+=p+="<p>Applicant Division: "+m+"</p>",d+="</div>",d+='<div class="chat-details">',d+='<span class="chat-message-localisation font-size-small">',d+=""+dateFormat(),d+="</span>",d+="</div></div></div>",$("#Solrbringmore").append(d),mitsui.pages.supportChart.insertSenderResponse(p),$.ajax({url:"api/v1/insertDeviceRequestForPCID.html",method:"POST",async:!0,data:{imei_no:a,sl_no:t,user_id:i,user_name:s,user_email_id:n,pcid:o,approver_name:l,approver_email_id:r,user_level:c,applicant_division:m}}).done(function(e){null!=e?"redirect:supportChat.html"==e?window.location.href="index.html?return_url=supportChat.html":getWatsonConversationResponse("SQLERROR"==e?"ApplicationSubmitFail":"ApplicationSubmitSuccess"):getWatsonConversationResponse("ApplicationSubmitFail")}).fail(function(){getWatsonConversationResponse("ApplicationSubmitFail")})}},insertDeviceRequestForProfitCenter:function(){var e=/^[a-zA-Z0-9][A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i,a=$("#profit_center_imei").val(),t=$("#profit_center_serial_number").val(),i=$("#profit_center_user_id").val(),s=$("#profit_center_username").val(),n=$("#profit_center_mail_address").val(),o=$("#profit_center_profit_center").val(),l=$("#profit_center_approver_name").val(),r=$("#profit_center_approver_mail_address").val(),c=$("#profit_center_user_level :selected").val(),m=$("#profit_center_applicant_division").val();if(0==$.trim(a).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter IMEI number.",callback:function(){setTimeout(function(){$("#profit_center_imei").focus()},150)}});else if($.trim(a).length<15)bootbox.alert({size:"small",title:"Submit application",message:"Please enter 15 digit IMEI number.",callback:function(){setTimeout(function(){$("#profit_center_imei").val(""),$("#profit_center_imei").focus()},150)}});else if(0==$.trim(t).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter serial number.",callback:function(){setTimeout(function(){$("#profit_center_serial_number").focus()},150)}});else if(0==$.trim(i).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user id.",callback:function(){setTimeout(function(){$("#profit_center_user_id").focus()},150)}});else if(0==$.trim(s).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user name.",callback:function(){setTimeout(function(){$("#profit_center_username").focus()},150)}});else if(0==$.trim(n).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user mail address.",callback:function(){setTimeout(function(){$("#profit_center_mail_address").focus()},150)}});else if(0==e.test($.trim(n)))bootbox.alert({size:"small",title:"Submit application",message:"Incorrect user mail address.",callback:function(){setTimeout(function(){$("#profit_center_mail_address").val(""),$("#profit_center_mail_address").focus()},150)}});else if(-1==$.trim(n).indexOf(emailDomain)&&-1==$.trim(n).indexOf(emailDomain1))bootbox.alert({size:"small",title:"Submit application",message:"Domain name should not be other than @mitsui.com",callback:function(){setTimeout(function(){$("#profit_center_mail_address").val(""),$("#profit_center_mail_address").focus()},150)}});else if(0==$.trim(o).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter profit center.",callback:function(){setTimeout(function(){$("#profit_center_profit_center").focus()},150)}});else if(0==$.trim(l).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter approver name.",callback:function(){setTimeout(function(){$("#profit_center_approver_name").focus()},150)}});else if(0==$.trim(r).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter approver mail address.",callback:function(){setTimeout(function(){$("#profit_center_approver_mail_address").focus()},150)}});else if(0==e.test($.trim(r)))bootbox.alert({size:"small",title:"Submit application",message:"Incorrect approver mail address.",callback:function(){setTimeout(function(){$("#profit_center_approver_mail_address").val(""),$("#profit_center_approver_mail_address").focus()},150)}});else if(-1==$.trim(r).indexOf(emailDomain)&&-1==$.trim(r).indexOf(emailDomain1))bootbox.alert({size:"small",title:"Submit application",message:"Domain name should not be other than @mitsui.com",callback:function(){setTimeout(function(){$("#profit_center_approver_mail_address").val(""),$("#profit_center_approver_mail_address").focus()},150)}});else if($.trim(n)==$.trim(r))bootbox.alert({size:"small",title:"Submit application",message:"User mail address and approver mail address must be different.",callback:function(){setTimeout(function(){$("#profit_center_mail_address").val(""),$("#profit_center_approver_mail_address").val(""),$("#profit_center_mail_address").focus()},150)}});else if(0==$.trim(m).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter applicant division.",callback:function(){setTimeout(function(){$("#profit_center_applicant_division").focus()},150)}});else{$(".hidedivs").addClass("animated fadeOutLeft"),$(".hidedivs").remove();var d="",p="";d+='<div class="chat-message chat-message-sender">',d+='<img class="chat-image chat-image-default" src="resources/images/user.png">',d+=' <div class="chat-message-wrapper">',d+='<div class="chat-message-content">',p+="Following are details for profit center application:",p+="<p>IMEI: "+a+"</p>",p+="<p>Serial Number: "+t+"</p>",p+="<p>User ID: "+i+"</p>",p+="<p>Username: "+s+"</p>",p+="<p>User Mail Address: "+n+"</p>",p+="<p>Profit Center: "+o+"</p>",p+="<p>Approver Name: "+l+"</p>",p+="<p>Approver Mail Address: "+r+"</p>",p+="<p>User Level: "+c+"</p>",d+=p+="<p>Applicant Division: "+m+"</p>",d+="</div>",d+='<div class="chat-details">',d+='<span class="chat-message-localisation font-size-small">',d+=""+dateFormat(),d+="</span>",d+="</div></div></div>",$("#Solrbringmore").append(d),mitsui.pages.supportChart.insertSenderResponse(p),$.ajax({url:"api/v1/insertDeviceRequestForProfitCenter.html",method:"POST",async:!0,data:{imei_no:a,sl_no:t,user_id:i,user_name:s,user_email_id:n,profit_center:o,approver_name:l,approver_email_id:r,user_level:c,applicant_division:m}}).done(function(e){null!=e?"redirect:supportChat.html"==e?window.location.href="index.html?return_url=supportChat.html":getWatsonConversationResponse("SQLERROR"==e?"ApplicationSubmitFail":"ApplicationSubmitSuccess"):getWatsonConversationResponse("ApplicationSubmitFail")}).fail(function(){getWatsonConversationResponse("ApplicationSubmitFail")})}},insertDeviceRequestForTerminate:function(){var e=/^[a-zA-Z0-9][A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i,a=$("#terminate_imei").val(),t=$("#terminate_serial_number").val(),i=$("#terminate_approver_name").val(),s=$("#terminate_approver_mail_address").val(),n=$("#terminate_user_level :selected").val(),o=$("#terminate_applicant_division").val(),l=$("#terminate_user_id").val(),r=$("#terminate_username").val(),c=$("#terminate_mail_address").val();if(0==$.trim(a).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter IMEI number.",callback:function(){setTimeout(function(){$("#terminate_imei").focus()},150)}});else if($.trim(a).length<15)bootbox.alert({size:"small",title:"Submit application",message:"Please enter 15 digit IMEI number.",callback:function(){setTimeout(function(){$("#terminate_imei").val(""),$("#terminate_imei").focus()},150)}});else if(0==$.trim(t).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter serial number.",callback:function(){setTimeout(function(){$("#terminate_serial_number").focus()},150)}});else if(0==$.trim(l).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user id.",callback:function(){setTimeout(function(){$("#terminate_user_id").focus()},150)}});else if(0==$.trim(r).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user name.",callback:function(){setTimeout(function(){$("#terminate_username").focus()},150)}});else if(0==$.trim(c).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter user mail address.",callback:function(){setTimeout(function(){$("#terminate_mail_address").focus()},150)}});else if(0==e.test($.trim(c)))bootbox.alert({size:"small",title:"Submit application",message:"Incorrect user mail address.",callback:function(){setTimeout(function(){$("#terminate_mail_address").val(""),$("#terminate_mail_address").focus()},150)}});else if(-1==$.trim(c).indexOf(emailDomain)&&-1==$.trim(c).indexOf(emailDomain1))bootbox.alert({size:"small",title:"Submit application",message:"Domain name should not be other than @mitsui.com",callback:function(){setTimeout(function(){$("#terminate_mail_address").val(""),$("#terminate_mail_address").focus()},150)}});else if(0==$.trim(i).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter approver name.",callback:function(){setTimeout(function(){$("#terminate_approver_name").focus()},150)}});else if(0==$.trim(s).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter approver mail address.",callback:function(){setTimeout(function(){$("#terminate_approver_mail_address").focus()},150)}});else if(0==e.test($.trim(s)))bootbox.alert({size:"small",title:"Submit application",message:"Incorrect approver mail address.",callback:function(){setTimeout(function(){$("#terminate_approver_mail_address").val(""),$("#terminate_approver_mail_address").focus()},150)}});else if(-1==$.trim(s).indexOf(emailDomain)&&-1==$.trim(s).indexOf(emailDomain1))bootbox.alert({size:"small",title:"Submit application",message:"Domain name should not be other than @mitsui.com",callback:function(){setTimeout(function(){$("#terminate_approver_mail_address").val(""),$("#terminate_approver_mail_address").focus()},150)}});else if($.trim(c)==$.trim(s))bootbox.alert({size:"small",title:"Submit application",message:"User mail address and approver mail address must be different.",callback:function(){setTimeout(function(){$("#terminate_mail_address").val(""),$("#terminate_approver_mail_address").val(""),$("#terminate_mail_address").focus()},150)}});else if(0==$.trim(o).length)bootbox.alert({size:"small",title:"Submit application",message:"Please enter applicant division.",callback:function(){setTimeout(function(){$("#terminate_applicant_division").focus()},150)}});else{$(".hidedivs").addClass("animated fadeOutLeft"),$(".hidedivs").remove();var m="",d="";m+='<div class="chat-message chat-message-sender">',m+='<img class="chat-image chat-image-default" src="resources/images/user.png">',m+=' <div class="chat-message-wrapper">',m+='<div class="chat-message-content">',d+="Following are details for terminate application:",d+="<p>IMEI: "+a+"</p>",d+="<p>Serial Number: "+t+"</p>",d+="<p>User ID: "+l+"</p>",d+="<p>Username: "+r+"</p>",d+="<p>User Mail Address: "+c+"</p>",d+="<p>Approver Name: "+i+"</p>",d+="<p>Approver Mail Address: "+s+"</p>",d+="<p>User Level: "+n+"</p>",m+=d+="<p>Applicant Division: "+o+"</p>",m+="</div>",m+='<div class="chat-details">',m+='<span class="chat-message-localisation font-size-small">',m+=""+dateFormat(),m+="</span>",m+="</div></div></div>",$("#Solrbringmore").append(m),mitsui.pages.supportChart.insertSenderResponse(d),$.ajax({url:"api/v1/insertDeviceRequestForTerminate.html",method:"POST",async:!0,data:{imei_no:a,sl_no:t,user_id:l,user_name:r,user_email_id:c,approver_name:i,approver_email_id:s,user_level:n,applicant_division:o}}).done(function(e){null!=e?"redirect:supportChat.html"==e?window.location.href="index.html?return_url=supportChat.html":getWatsonConversationResponse("SQLERROR"==e?"ApplicationSubmitFail":"TurnOffApplicationsSuccess"):getWatsonConversationResponse("ApplicationSubmitFail")}).fail(function(){getWatsonConversationResponse("ApplicationSubmitFail")})}},insertSenderResponse:function(e){$("#Solrbringmore").append(" <div class='chat-message chat-message-recipient'><img class='chat-image chat-image-default' src='resources/images/bot1.png' /> <div class='chat-message-wrapper'> <div class='chat-message-content'><div class='innerMaintxt'><img id='loading_gif' src='resources/images/loading_dot.gif'></div></div><div class='innertimetxt'></div>"),$("#style-3").scrollTop($("#style-3")[0].scrollHeight),$.ajax({url:"api/v1/saveChatViaAjax",method:"POST",async:!0,data:{botReplyVal:e,type:"user",conversationId:$("body").data("conversationId"),date:moment(new Date).format("YYYY-MM-DD hh:mm:ss"),dateZone:moment(new Date).format("Z"),conversationChannel:"web"}}).done(function(e){}).fail(function(){})}};